/* tslint:disable */
/* eslint-disable */
/**
 * Ory Oathkeeper API
 * Documentation for all of Ory Oathkeeper\'s APIs. 
 *
 * The version of the OpenAPI document: v25.4.0
 * Contact: hi@ory.sh
 *
 * NOTE: This class is auto generated by OpenAPI Generator (https://openapi-generator.tech).
 * https://openapi-generator.tech
 * Do not edit the class manually.
 */


import * as runtime from '../runtime';
import type {
  GenericError,
  JsonWebKeySet,
  Rule,
} from '../models/index';
import {
    GenericErrorFromJSON,
    GenericErrorToJSON,
    JsonWebKeySetFromJSON,
    JsonWebKeySetToJSON,
    RuleFromJSON,
    RuleToJSON,
} from '../models/index';

export interface GetRuleRequest {
    id: string;
}

export interface ListRulesRequest {
    limit?: number;
    offset?: number;
}

/**
 * 
 */
export class ApiApi extends runtime.BaseAPI {

    /**
     * > This endpoint works with all HTTP Methods (GET, POST, PUT, ...) and matches every path prefixed with /decisions.  This endpoint mirrors the proxy capability of ORY Oathkeeper\'s proxy functionality but instead of forwarding the request to the upstream server, returns 200 (request should be allowed), 401 (unauthorized), or 403 (forbidden) status codes. This endpoint can be used to integrate with other API Proxies like Ambassador, Kong, Envoy, and many more.
     * Access Control Decision API
     */
    async decisionsRaw(initOverrides?: RequestInit | runtime.InitOverrideFunction): Promise<runtime.ApiResponse<void>> {
        const queryParameters: any = {};

        const headerParameters: runtime.HTTPHeaders = {};

        const response = await this.request({
            path: `/decisions`,
            method: 'GET',
            headers: headerParameters,
            query: queryParameters,
        }, initOverrides);

        return new runtime.VoidApiResponse(response);
    }

    /**
     * > This endpoint works with all HTTP Methods (GET, POST, PUT, ...) and matches every path prefixed with /decisions.  This endpoint mirrors the proxy capability of ORY Oathkeeper\'s proxy functionality but instead of forwarding the request to the upstream server, returns 200 (request should be allowed), 401 (unauthorized), or 403 (forbidden) status codes. This endpoint can be used to integrate with other API Proxies like Ambassador, Kong, Envoy, and many more.
     * Access Control Decision API
     */
    async decisions(initOverrides?: RequestInit | runtime.InitOverrideFunction): Promise<void> {
        await this.decisionsRaw(initOverrides);
    }

    /**
     * Use this method to retrieve a rule from the storage. If it does not exist you will receive a 404 error.
     * Retrieve a Rule
     */
    async getRuleRaw(requestParameters: GetRuleRequest, initOverrides?: RequestInit | runtime.InitOverrideFunction): Promise<runtime.ApiResponse<Rule>> {
        if (requestParameters['id'] == null) {
            throw new runtime.RequiredError(
                'id',
                'Required parameter "id" was null or undefined when calling getRule().'
            );
        }

        const queryParameters: any = {};

        const headerParameters: runtime.HTTPHeaders = {};

        const response = await this.request({
            path: `/rules/{id}`.replace(`{${"id"}}`, encodeURIComponent(String(requestParameters['id']))),
            method: 'GET',
            headers: headerParameters,
            query: queryParameters,
        }, initOverrides);

        return new runtime.JSONApiResponse(response, (jsonValue) => RuleFromJSON(jsonValue));
    }

    /**
     * Use this method to retrieve a rule from the storage. If it does not exist you will receive a 404 error.
     * Retrieve a Rule
     */
    async getRule(requestParameters: GetRuleRequest, initOverrides?: RequestInit | runtime.InitOverrideFunction): Promise<Rule> {
        const response = await this.getRuleRaw(requestParameters, initOverrides);
        return await response.value();
    }

    /**
     * This endpoint returns cryptographic keys that are required to, for example, verify signatures of ID Tokens.
     * Lists Cryptographic Keys
     */
    async getWellKnownJSONWebKeysRaw(initOverrides?: RequestInit | runtime.InitOverrideFunction): Promise<runtime.ApiResponse<JsonWebKeySet>> {
        const queryParameters: any = {};

        const headerParameters: runtime.HTTPHeaders = {};

        const response = await this.request({
            path: `/.well-known/jwks.json`,
            method: 'GET',
            headers: headerParameters,
            query: queryParameters,
        }, initOverrides);

        return new runtime.JSONApiResponse(response, (jsonValue) => JsonWebKeySetFromJSON(jsonValue));
    }

    /**
     * This endpoint returns cryptographic keys that are required to, for example, verify signatures of ID Tokens.
     * Lists Cryptographic Keys
     */
    async getWellKnownJSONWebKeys(initOverrides?: RequestInit | runtime.InitOverrideFunction): Promise<JsonWebKeySet> {
        const response = await this.getWellKnownJSONWebKeysRaw(initOverrides);
        return await response.value();
    }

    /**
     * This method returns an array of all rules that are stored in the backend. This is useful if you want to get a full view of what rules you have currently in place.
     * List All Rules
     */
    async listRulesRaw(requestParameters: ListRulesRequest, initOverrides?: RequestInit | runtime.InitOverrideFunction): Promise<runtime.ApiResponse<Array<Rule>>> {
        const queryParameters: any = {};

        if (requestParameters['limit'] != null) {
            queryParameters['limit'] = requestParameters['limit'];
        }

        if (requestParameters['offset'] != null) {
            queryParameters['offset'] = requestParameters['offset'];
        }

        const headerParameters: runtime.HTTPHeaders = {};

        const response = await this.request({
            path: `/rules`,
            method: 'GET',
            headers: headerParameters,
            query: queryParameters,
        }, initOverrides);

        return new runtime.JSONApiResponse(response, (jsonValue) => jsonValue.map(RuleFromJSON));
    }

    /**
     * This method returns an array of all rules that are stored in the backend. This is useful if you want to get a full view of what rules you have currently in place.
     * List All Rules
     */
    async listRules(requestParameters: ListRulesRequest = {}, initOverrides?: RequestInit | runtime.InitOverrideFunction): Promise<Array<Rule>> {
        const response = await this.listRulesRaw(requestParameters, initOverrides);
        return await response.value();
    }

}
