/* tslint:disable */
/* eslint-disable */
/**
 * Ory Oathkeeper API
 * Documentation for all of Ory Oathkeeper\'s APIs. 
 *
 * The version of the OpenAPI document: v25.4.0
 * Contact: hi@ory.sh
 *
 * NOTE: This class is auto generated by OpenAPI Generator (https://openapi-generator.tech).
 * https://openapi-generator.tech
 * Do not edit the class manually.
 */

import { mapValues } from '../runtime';
import type { RuleMatch } from './RuleMatch';
import {
    RuleMatchFromJSON,
    RuleMatchFromJSONTyped,
    RuleMatchToJSON,
    RuleMatchToJSONTyped,
} from './RuleMatch';
import type { RuleHandler } from './RuleHandler';
import {
    RuleHandlerFromJSON,
    RuleHandlerFromJSONTyped,
    RuleHandlerToJSON,
    RuleHandlerToJSONTyped,
} from './RuleHandler';
import type { Upstream } from './Upstream';
import {
    UpstreamFromJSON,
    UpstreamFromJSONTyped,
    UpstreamToJSON,
    UpstreamToJSONTyped,
} from './Upstream';

/**
 * 
 * @export
 * @interface Rule
 */
export interface Rule {
    /**
     * Authenticators is a list of authentication handlers that will try and authenticate the provided credentials.
     * Authenticators are checked iteratively from index 0 to n and if the first authenticator to return a positive
     * result will be the one used.
     * 
     * If you want the rule to first check a specific authenticator  before "falling back" to others, have that authenticator
     * as the first item in the array.
     * @type {Array<RuleHandler>}
     * @memberof Rule
     */
    authenticators?: Array<RuleHandler>;
    /**
     * 
     * @type {RuleHandler}
     * @memberof Rule
     */
    authorizer?: RuleHandler;
    /**
     * Description is a human readable description of this rule.
     * @type {string}
     * @memberof Rule
     */
    description?: string;
    /**
     * ID is the unique id of the rule. It can be at most 190 characters long, but the layout of the ID is up to you.
     * You will need this ID later on to update or delete the rule.
     * @type {string}
     * @memberof Rule
     */
    id?: string;
    /**
     * 
     * @type {RuleMatch}
     * @memberof Rule
     */
    match?: RuleMatch;
    /**
     * Mutators is a list of mutation handlers that transform the HTTP request. A common use case is generating a new set
     * of credentials (e.g. JWT) which then will be forwarded to the upstream server.
     * 
     * Mutations are performed iteratively from index 0 to n and should all succeed in order for the HTTP request to be forwarded.
     * @type {Array<RuleHandler>}
     * @memberof Rule
     */
    mutators?: Array<RuleHandler>;
    /**
     * 
     * @type {Upstream}
     * @memberof Rule
     */
    upstream?: Upstream;
}

/**
 * Check if a given object implements the Rule interface.
 */
export function instanceOfRule(value: object): value is Rule {
    return true;
}

export function RuleFromJSON(json: any): Rule {
    return RuleFromJSONTyped(json, false);
}

export function RuleFromJSONTyped(json: any, ignoreDiscriminator: boolean): Rule {
    if (json == null) {
        return json;
    }
    return {
        
        'authenticators': json['authenticators'] == null ? undefined : ((json['authenticators'] as Array<any>).map(RuleHandlerFromJSON)),
        'authorizer': json['authorizer'] == null ? undefined : RuleHandlerFromJSON(json['authorizer']),
        'description': json['description'] == null ? undefined : json['description'],
        'id': json['id'] == null ? undefined : json['id'],
        'match': json['match'] == null ? undefined : RuleMatchFromJSON(json['match']),
        'mutators': json['mutators'] == null ? undefined : ((json['mutators'] as Array<any>).map(RuleHandlerFromJSON)),
        'upstream': json['upstream'] == null ? undefined : UpstreamFromJSON(json['upstream']),
    };
}

export function RuleToJSON(json: any): Rule {
    return RuleToJSONTyped(json, false);
}

export function RuleToJSONTyped(value?: Rule | null, ignoreDiscriminator: boolean = false): any {
    if (value == null) {
        return value;
    }

    return {
        
        'authenticators': value['authenticators'] == null ? undefined : ((value['authenticators'] as Array<any>).map(RuleHandlerToJSON)),
        'authorizer': RuleHandlerToJSON(value['authorizer']),
        'description': value['description'],
        'id': value['id'],
        'match': RuleMatchToJSON(value['match']),
        'mutators': value['mutators'] == null ? undefined : ((value['mutators'] as Array<any>).map(RuleHandlerToJSON)),
        'upstream': UpstreamToJSON(value['upstream']),
    };
}

